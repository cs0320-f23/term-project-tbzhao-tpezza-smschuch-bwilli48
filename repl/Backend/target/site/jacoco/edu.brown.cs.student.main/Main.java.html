<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">s0</a> &gt; <a href="index.source.html" class="el_package">edu.brown.cs.student.main</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">package edu.brown.cs.student.main;

import edu.brown.cs.student.Parsing.CreatorFromRow;
import edu.brown.cs.student.Parsing.FactoryFailureException;
import edu.brown.cs.student.Parsing.Parse;
import edu.brown.cs.student.Search.ColumnIdentifier;
import edu.brown.cs.student.Search.Search;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.util.List;
import java.util.Scanner;

/**
 * I wrote my main class as the interface for the end-users who want to search It uses the scanner
 * class and terminal for an easy and interactive way to search in their CSVs.
 */
public final class Main {
  /**
   * The initial method called when execution begins.
   *
   * @param args An array of command line arguments
   */
  public static void main(String[] args) {
<span class="nc" id="L25">    new Main(args).run();</span>
<span class="nc" id="L26">  }</span>

<span class="nc" id="L28">  private Main(String[] args) {}</span>

  /** Run is where the entire scanner class interface runs */
  private void run() {

<span class="nc" id="L33">    Scanner myScanner = new Scanner(System.in);</span>
<span class="nc" id="L34">    System.out.println(</span>
        &quot;Hello. You have started the SEARCH portion of this CSV code.\n&quot;
            + &quot;This will print out any rows found containing the item &quot;
            + &quot;you are searching for. \nRow 0 is considered the first row, &quot;
            + &quot;and the &quot;
            + &quot;headers row is counted, \nso for a CSV with headers the first  &quot;
            + &quot;row will be 1.\n\n&quot;);

<span class="nc" id="L42">    Boolean searchAgain = true;</span>
    // Loop gives user option to keep searching without restarting program
<span class="nc bnc" id="L44" title="All 2 branches missed.">    while (searchAgain) {</span>
<span class="nc" id="L45">      String file = &quot;&quot;;</span>
<span class="nc" id="L46">      String value = &quot;&quot;;</span>
<span class="nc" id="L47">      ColumnIdentifier.Identifier columnIdentifier = ColumnIdentifier.Identifier.NONE;</span>
<span class="nc" id="L48">      String identifier = &quot;&quot;;</span>
<span class="nc" id="L49">      Boolean hasHeaders = false;</span>
<span class="nc" id="L50">      Boolean checkCase = true;</span>

      // File path
<span class="nc" id="L53">      Boolean fileDone = false;</span>
<span class="nc" id="L54">      Reader reader = null;</span>
<span class="nc" id="L55">      System.out.println(&quot;START:\nEnter the path to the CSV file you would &quot; + &quot;like to search.&quot;);</span>
<span class="nc bnc" id="L56" title="All 2 branches missed.">      while (fileDone == false) {</span>
<span class="nc" id="L57">        file = myScanner.nextLine().toLowerCase();</span>
<span class="nc bnc" id="L58" title="All 2 branches missed.">        if (file.equals(&quot;exit&quot;)) {</span>
<span class="nc" id="L59">          System.out.println(&quot;You exited the program.&quot;);</span>
<span class="nc" id="L60">          System.exit(0);</span>
        }
        try {
<span class="nc" id="L63">          reader = new FileReader(file);</span>
<span class="nc" id="L64">          break;</span>
<span class="nc" id="L65">        } catch (IOException i) {</span>
<span class="nc" id="L66">          System.out.println(</span>
              &quot;Was not a proper file path. Please enter again. &quot;
                  + &quot;If you want to exit, enter exit.&quot;);
<span class="nc" id="L69">        }</span>
      }

      // Have headers?
<span class="nc" id="L73">      Boolean headerDone = false;</span>
<span class="nc" id="L74">      System.out.println(&quot;Does your CSV have headers? (yes/no)&quot;);</span>
<span class="nc bnc" id="L75" title="All 2 branches missed.">      while (headerDone == false) {</span>
<span class="nc" id="L76">        String header = myScanner.nextLine().toLowerCase();</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">        if (header.equals(&quot;yes&quot;)) {</span>
<span class="nc" id="L78">          hasHeaders = true;</span>
<span class="nc" id="L79">          break;</span>
<span class="nc bnc" id="L80" title="All 2 branches missed.">        } else if (header.equals(&quot;no&quot;)) {</span>
<span class="nc" id="L81">          break;</span>
        }
<span class="nc" id="L83">        System.out.println(&quot;Please enter 'yes' or 'no'.&quot;);</span>
<span class="nc" id="L84">      }</span>

<span class="nc" id="L86">      boolean sameFile = true;</span>
      // Allows user to keep searching same file without reentering file path
<span class="nc bnc" id="L88" title="All 2 branches missed.">      while (sameFile) {</span>

        // Value
<span class="nc" id="L91">        System.out.println(&quot;Enter the item you would like to search for.&quot;);</span>
<span class="nc" id="L92">        value = myScanner.nextLine();</span>

        // Check Case
<span class="nc" id="L95">        Boolean caseDone = false;</span>
        // User can check for case if desired
<span class="nc" id="L97">        System.out.println(</span>
            &quot;Do you want SEARCH to check for upper/lower case of your &quot;
                + &quot;searched item? (yes/no)&quot;);
<span class="nc bnc" id="L100" title="All 2 branches missed.">        while (caseDone == false) {</span>
<span class="nc" id="L101">          String check = myScanner.nextLine().toLowerCase();</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">          if (check.equals(&quot;no&quot;)) {</span>
<span class="nc" id="L103">            checkCase = false;</span>
<span class="nc" id="L104">            break;</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">          } else if (check.equals(&quot;yes&quot;)) {</span>
<span class="nc" id="L106">            break;</span>
          }
<span class="nc" id="L108">          System.out.println(&quot;Please enter 'yes' or 'no'.&quot;);</span>
<span class="nc" id="L109">        }</span>

        // Can search in a certain column
<span class="nc" id="L112">        System.out.println(</span>
            &quot;Do you want to search for &quot;
                + value
                + &quot; only in a certain column? If not&quot;
                + &quot; the whole CSV will be searched. (yes/no)&quot;);

<span class="nc" id="L118">        Boolean columnDone = false;</span>
<span class="nc bnc" id="L119" title="All 2 branches missed.">        while (columnDone == false) {</span>
<span class="nc" id="L120">          String answer = myScanner.nextLine().toLowerCase();</span>
<span class="nc bnc" id="L121" title="All 2 branches missed.">          if (answer.equals(&quot;yes&quot;)) {</span>
            // Can specify column by index or header
<span class="nc" id="L123">            System.out.println(</span>
                &quot;Would like to to specify the column by column number or &quot;
                    + &quot;header name? (number/header)&quot;);
<span class="nc" id="L126">            Boolean choiceDone = false;</span>
<span class="nc bnc" id="L127" title="All 2 branches missed.">            while (choiceDone == false) {</span>
<span class="nc" id="L128">              String type = myScanner.nextLine().toLowerCase();</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">              if (type.equals(&quot;number&quot;)) {</span>
<span class="nc" id="L130">                columnIdentifier = ColumnIdentifier.Identifier.INDEX;</span>

                // Column number
<span class="nc" id="L133">                System.out.println(</span>
                    &quot;What column number would you like to search? &quot; + &quot;(0 is first column)&quot;);
<span class="nc bnc" id="L135" title="All 2 branches missed.">                while (!myScanner.hasNextInt()) {</span>
<span class="nc" id="L136">                  System.out.println(&quot;Please enter a number.&quot;);</span>
<span class="nc" id="L137">                  myScanner.next();</span>
                }
<span class="nc" id="L139">                identifier = myScanner.nextLine();</span>
<span class="nc" id="L140">                break;</span>

<span class="nc bnc" id="L142" title="All 2 branches missed.">              } else if (type.equals(&quot;header&quot;)) {</span>
<span class="nc" id="L143">                columnIdentifier = ColumnIdentifier.Identifier.HEADER;</span>

                // Header name
<span class="nc" id="L146">                System.out.println(&quot;What header name would you like to &quot; + &quot;search?&quot;);</span>
<span class="nc" id="L147">                identifier = myScanner.nextLine();</span>
<span class="nc" id="L148">                break;</span>
              }
<span class="nc" id="L150">              System.out.println(&quot;Please enter 'column' or 'header'.&quot;);</span>
<span class="nc" id="L151">            }</span>
            break;

<span class="nc bnc" id="L154" title="All 2 branches missed.">          } else if (answer.equals(&quot;no&quot;)) {</span>
<span class="nc" id="L155">            break;</span>
          }
<span class="nc" id="L157">          System.out.println(&quot;Please enter 'yes' or 'no'.&quot;);</span>
<span class="nc" id="L158">        }</span>

<span class="nc" id="L160">        System.out.println(&quot;All set. Searching now...&quot;);</span>

<span class="nc" id="L162">        CreatorFromRow&lt;List&lt;String&gt;&gt; creator =</span>
<span class="nc" id="L163">            new CreatorFromRow&lt;List&lt;String&gt;&gt;() {</span>
              @Override
              public List&lt;String&gt; create(List&lt;String&gt; row) throws FactoryFailureException {
<span class="nc" id="L166">                return row;</span>
              }
            };

<span class="nc" id="L170">        Parse&lt;List&lt;String&gt;&gt; parse = new Parse&lt;List&lt;String&gt;&gt;(reader, creator);</span>
<span class="nc" id="L171">        ColumnIdentifier column = new ColumnIdentifier();</span>
<span class="nc" id="L172">        Search mySearch =</span>
            new Search(file, value, columnIdentifier, identifier, hasHeaders, checkCase);
<span class="nc" id="L174">        mySearch.search();</span>

<span class="nc" id="L176">        Boolean finalDone = false;</span>
        // User can search again
<span class="nc" id="L178">        System.out.println(&quot;Would you like to search again?&quot;);</span>
<span class="nc bnc" id="L179" title="All 2 branches missed.">        while (finalDone == false) {</span>
<span class="nc" id="L180">          String again = myScanner.nextLine().toLowerCase();</span>
<span class="nc bnc" id="L181" title="All 2 branches missed.">          if (again.equals(&quot;no&quot;)) {</span>
<span class="nc" id="L182">            searchAgain = false;</span>
<span class="nc" id="L183">            sameFile = false;</span>
<span class="nc" id="L184">            break;</span>
<span class="nc bnc" id="L185" title="All 2 branches missed.">          } else if (again.equals(&quot;yes&quot;)) {</span>
<span class="nc" id="L186">            Boolean sameFileDone = false;</span>
            // User can search in same file without reentering path
<span class="nc" id="L188">            System.out.println(&quot;Would you like to search the same CSV file?&quot;);</span>
<span class="nc bnc" id="L189" title="All 2 branches missed.">            while (sameFileDone == false) {</span>
<span class="nc" id="L190">              String same = myScanner.nextLine().toLowerCase();</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">              if (same.equals(&quot;no&quot;)) {</span>
<span class="nc" id="L192">                sameFile = false;</span>
<span class="nc" id="L193">                break;</span>
<span class="nc bnc" id="L194" title="All 2 branches missed.">              } else if (same.equals(&quot;yes&quot;)) {</span>
<span class="nc" id="L195">                break;</span>
              }
<span class="nc" id="L197">              System.out.println(&quot;Please enter 'yes' or 'no'.&quot;);</span>
<span class="nc" id="L198">            }</span>
            break;
          }
<span class="nc" id="L201">          System.out.println(&quot;Please enter 'yes' or 'no'.&quot;);</span>
<span class="nc" id="L202">        }</span>
<span class="nc" id="L203">      }</span>
<span class="nc" id="L204">    }</span>
<span class="nc" id="L205">    System.out.println(&quot;Search finished. Run again to search again.&quot;);</span>
<span class="nc" id="L206">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>